(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,42023,e=>{"use strict";let s=(0,e.i(18563).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>s],42023)},18741,e=>{"use strict";let s=(0,e.i(18563).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);e.s(["X",()=>s],18741)},64480,21492,e=>{"use strict";let s=(0,e.i(18563).default)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);e.s(["Video",()=>s],64480);var t=e.i(81380),r=e.i(96758);function a(e,s,a){let[i,l]=(0,t.normalizeDates)(a?.in,e,s);return+(0,r.startOfDay)(i)==+(0,r.startOfDay)(l)}e.s(["isSameDay",()=>a],21492)},50129,e=>{"use strict";var s=e.i(48710),t=e.i(43612);e.i(53441);var r=e.i(73981),a=e.i(93986),i=e.i(47667),l=e.i(66686),n=e.i(99226),d=e.i(53500),c=e.i(20563),o=e.i(27811),m=e.i(36982),x=e.i(64480),h=e.i(18121),u=e.i(18741),g=e.i(42023);let j=(0,e.i(18563).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var N=e.i(97323),f=e.i(68236),p=e.i(94905);function y(e){return+(0,p.toDate)(e)<Date.now()}var b=e.i(41213),v=e.i(21492),C=e.i(68755),k=e.i(44483);function E(){let{bookings:e,isLoading:p,error:E,fetchBookings:w,cancelBooking:D}=(0,r.useBookings)(),[L,O]=(0,t.useState)(null);(0,t.useEffect)(()=>{w()},[w]);let M=async e=>{if(confirm("Are you sure you want to cancel this booking?")){O(e);try{await D(e),C.toast.success("Booking cancelled successfully"),await w()}catch(e){C.toast.error("Failed to cancel booking")}finally{O(null)}}},S=e=>{switch(e){case"CONFIRMED":return"bg-green-500/20 text-green-700 dark:text-green-400 border-green-500/50";case"PENDING":return"bg-yellow-500/20 text-yellow-700 dark:text-yellow-400 border-yellow-500/50";case"COMPLETED":return"bg-blue-500/20 text-blue-700 dark:text-blue-400 border-blue-500/50";case"CANCELLED":return"bg-gray-500/20 text-gray-700 dark:text-gray-400 border-gray-500/50";default:return"bg-muted text-muted-foreground border-border"}},T=e.filter(e=>!y((0,f.parseISO)(e.startDateTime))&&"CANCELLED"!==e.status&&"COMPLETED"!==e.status),I=e.filter(e=>y((0,f.parseISO)(e.startDateTime))||"COMPLETED"===e.status||"CANCELLED"===e.status);return p?(0,s.jsx)(c.ProtectedRoute,{children:(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,s.jsx)(n.Navigation,{}),(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)(d.DashboardSidebar,{}),(0,s.jsx)("main",{className:"flex-1 p-6 lg:p-8",children:(0,s.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,s.jsx)(g.Loader2,{className:"h-8 w-8 animate-spin text-primary"})})})]})]})}):(0,s.jsx)(c.ProtectedRoute,{children:(0,s.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,s.jsx)(n.Navigation,{}),(0,s.jsxs)("div",{className:"flex",children:[(0,s.jsx)(d.DashboardSidebar,{}),(0,s.jsxs)("main",{className:"flex-1 p-6 lg:p-8",children:[(0,s.jsx)("div",{className:"mb-8",children:(0,s.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-foreground mb-2",children:"My Bookings"}),(0,s.jsx)("p",{className:"text-muted-foreground text-lg",children:"Manage yer appointments and sessions"})]}),(0,s.jsx)(k.default,{href:"/bookings",children:(0,s.jsx)(i.Button,{className:"bg-primary text-primary-foreground hover:bg-primary/90",children:"Book New Session"})})]})}),E&&(0,s.jsxs)("div",{className:"mb-6 p-4 rounded-md bg-destructive/10 border border-destructive/20 text-destructive flex items-center gap-2",children:[(0,s.jsx)(j,{className:"h-5 w-5"}),E]}),(0,s.jsxs)("div",{className:"mb-8",children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-foreground mb-4",children:"Upcoming"}),0===T.length?(0,s.jsx)(a.Card,{children:(0,s.jsxs)(a.CardContent,{className:"py-12 text-center",children:[(0,s.jsx)(o.Calendar,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4 opacity-50"}),(0,s.jsx)("p",{className:"text-muted-foreground",children:"No upcoming bookings"}),(0,s.jsx)(k.default,{href:"/bookings",children:(0,s.jsx)(i.Button,{className:"mt-4 bg-primary text-primary-foreground hover:bg-primary/90",children:"Book a Session"})})]})}):(0,s.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:T.map(e=>{let t=(0,f.parseISO)(e.startDateTime),r=(0,f.parseISO)(e.endDateTime),n=(0,v.isSameDay)((0,b.constructFrom)(t,t),(0,b.constructFrom)(t,Date.now()));return(0,s.jsxs)(a.Card,{className:`border-border/50 hover:border-primary/40 transition-all ${n?"ring-2 ring-primary/50":""}`,children:[(0,s.jsx)(a.CardHeader,{children:(0,s.jsxs)("div",{className:"flex items-start justify-between",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(a.CardTitle,{className:"text-xl mb-2",children:e.service?.name||"Service"}),(0,s.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,s.jsx)(l.Badge,{className:S(e.status),children:e.status}),n&&(0,s.jsx)(l.Badge,{variant:"outline",className:"border-primary/50 text-primary",children:"Today"})]})]}),"CANCELLED"!==e.status&&(0,s.jsx)(i.Button,{variant:"ghost",size:"sm",onClick:()=>M(e.id),disabled:L===e.id,className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:L===e.id?(0,s.jsx)(g.Loader2,{className:"h-4 w-4 animate-spin"}):(0,s.jsx)(u.X,{className:"h-4 w-4"})})]})}),(0,s.jsxs)(a.CardContent,{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,s.jsx)(o.Calendar,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:(0,N.format)(t,"EEEE, MMM d, yyyy")})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,s.jsx)(m.Clock,{className:"h-4 w-4"}),(0,s.jsxs)("span",{children:[(0,N.format)(t,"h:mm a")," - ",(0,N.format)(r,"h:mm a")]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:["ONLINE"===e.type?(0,s.jsx)(x.Video,{className:"h-4 w-4"}):(0,s.jsx)(h.MapPin,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"ONLINE"===e.type?"Online":"In-Person"}),"ONLINE"===e.type&&e.meetingLink&&(0,s.jsx)("a",{href:e.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline ml-2",children:"Join Meeting"})]}),e.service&&(0,s.jsx)("div",{className:"pt-2 border-t border-border/50",children:(0,s.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,s.jsx)("span",{className:"text-muted-foreground",children:"Price:"}),(0,s.jsxs)("span",{className:"font-semibold text-foreground",children:["Â£",e.service.price]})]})})]})]},e.id)})})]}),I.length>0&&(0,s.jsxs)("div",{children:[(0,s.jsx)("h2",{className:"text-2xl font-semibold text-foreground mb-4",children:"Past Bookings"}),(0,s.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:I.map(e=>{let t=(0,f.parseISO)(e.startDateTime),r=(0,f.parseISO)(e.endDateTime);return(0,s.jsxs)(a.Card,{className:"border-border/50 opacity-75 hover:opacity-100 transition-opacity",children:[(0,s.jsx)(a.CardHeader,{children:(0,s.jsx)("div",{className:"flex items-start justify-between",children:(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsx)(a.CardTitle,{className:"text-xl mb-2",children:e.service?.name||"Service"}),(0,s.jsx)(l.Badge,{className:S(e.status),children:e.status})]})})}),(0,s.jsxs)(a.CardContent,{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,s.jsx)(o.Calendar,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:(0,N.format)(t,"EEEE, MMM d, yyyy")})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,s.jsx)(m.Clock,{className:"h-4 w-4"}),(0,s.jsxs)("span",{children:[(0,N.format)(t,"h:mm a")," - ",(0,N.format)(r,"h:mm a")]})]}),(0,s.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:["ONLINE"===e.type?(0,s.jsx)(x.Video,{className:"h-4 w-4"}):(0,s.jsx)(h.MapPin,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"ONLINE"===e.type?"Online":"In-Person"})]})]})]},e.id)})})]})]})]})]})})}e.s(["default",()=>E],50129)}]);