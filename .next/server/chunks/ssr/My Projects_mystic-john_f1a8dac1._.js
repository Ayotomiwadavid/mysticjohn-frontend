module.exports=[17336,a=>{"use strict";let b=(0,a.i(7909).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],17336)},6306,a=>{"use strict";let b=(0,a.i(7909).default)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);a.s(["X",()=>b],6306)},84982,10243,a=>{"use strict";let b=(0,a.i(7909).default)("Video",[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]]);a.s(["Video",()=>b],84982);var c=a.i(75128),d=a.i(6132);function e(a,b,e){let[f,g]=(0,c.normalizeDates)(e?.in,a,b);return+(0,d.startOfDay)(f)==+(0,d.startOfDay)(g)}a.s(["isSameDay",()=>e],10243)},58088,a=>{"use strict";var b=a.i(86205),c=a.i(54942);a.i(42680);var d=a.i(19556),e=a.i(9309),f=a.i(87637),g=a.i(6810),h=a.i(30194),i=a.i(48848),j=a.i(50519),k=a.i(22942),l=a.i(937),m=a.i(84982),n=a.i(94),o=a.i(6306),p=a.i(17336);let q=(0,a.i(7909).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);var r=a.i(92861),s=a.i(4423),t=a.i(97295);function u(a){return+(0,t.toDate)(a)<Date.now()}var v=a.i(38382),w=a.i(10243),x=a.i(19717),y=a.i(91139);function z(){let{bookings:a,isLoading:t,error:z,fetchBookings:A,cancelBooking:B}=(0,d.useBookings)(),[C,D]=(0,c.useState)(null);(0,c.useEffect)(()=>{A()},[A]);let E=async a=>{if(confirm("Are you sure you want to cancel this booking?")){D(a);try{await B(a),x.toast.success("Booking cancelled successfully"),await A()}catch(a){x.toast.error("Failed to cancel booking")}finally{D(null)}}},F=a=>{switch(a){case"CONFIRMED":return"bg-green-500/20 text-green-700 dark:text-green-400 border-green-500/50";case"PENDING":return"bg-yellow-500/20 text-yellow-700 dark:text-yellow-400 border-yellow-500/50";case"COMPLETED":return"bg-blue-500/20 text-blue-700 dark:text-blue-400 border-blue-500/50";case"CANCELLED":return"bg-gray-500/20 text-gray-700 dark:text-gray-400 border-gray-500/50";default:return"bg-muted text-muted-foreground border-border"}},G=a.filter(a=>!u((0,s.parseISO)(a.startDateTime))&&"CANCELLED"!==a.status&&"COMPLETED"!==a.status),H=a.filter(a=>u((0,s.parseISO)(a.startDateTime))||"COMPLETED"===a.status||"CANCELLED"===a.status);return t?(0,b.jsx)(j.ProtectedRoute,{children:(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)(h.Navigation,{}),(0,b.jsxs)("div",{className:"flex",children:[(0,b.jsx)(i.DashboardSidebar,{}),(0,b.jsx)("main",{className:"flex-1 p-6 lg:p-8",children:(0,b.jsx)("div",{className:"flex items-center justify-center py-20",children:(0,b.jsx)(p.Loader2,{className:"h-8 w-8 animate-spin text-primary"})})})]})]})}):(0,b.jsx)(j.ProtectedRoute,{children:(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)(h.Navigation,{}),(0,b.jsxs)("div",{className:"flex",children:[(0,b.jsx)(i.DashboardSidebar,{}),(0,b.jsxs)("main",{className:"flex-1 p-6 lg:p-8",children:[(0,b.jsx)("div",{className:"mb-8",children:(0,b.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl md:text-4xl font-bold text-foreground mb-2",children:"My Bookings"}),(0,b.jsx)("p",{className:"text-muted-foreground text-lg",children:"Manage yer appointments and sessions"})]}),(0,b.jsx)(y.default,{href:"/bookings",children:(0,b.jsx)(f.Button,{className:"bg-primary text-primary-foreground hover:bg-primary/90",children:"Book New Session"})})]})}),z&&(0,b.jsxs)("div",{className:"mb-6 p-4 rounded-md bg-destructive/10 border border-destructive/20 text-destructive flex items-center gap-2",children:[(0,b.jsx)(q,{className:"h-5 w-5"}),z]}),(0,b.jsxs)("div",{className:"mb-8",children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold text-foreground mb-4",children:"Upcoming"}),0===G.length?(0,b.jsx)(e.Card,{children:(0,b.jsxs)(e.CardContent,{className:"py-12 text-center",children:[(0,b.jsx)(k.Calendar,{className:"h-12 w-12 mx-auto text-muted-foreground mb-4 opacity-50"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"No upcoming bookings"}),(0,b.jsx)(y.default,{href:"/bookings",children:(0,b.jsx)(f.Button,{className:"mt-4 bg-primary text-primary-foreground hover:bg-primary/90",children:"Book a Session"})})]})}):(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:G.map(a=>{let c=(0,s.parseISO)(a.startDateTime),d=(0,s.parseISO)(a.endDateTime),h=(0,w.isSameDay)((0,v.constructFrom)(c,c),(0,v.constructFrom)(c,Date.now()));return(0,b.jsxs)(e.Card,{className:`border-border/50 hover:border-primary/40 transition-all ${h?"ring-2 ring-primary/50":""}`,children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(e.CardTitle,{className:"text-xl mb-2",children:a.service?.name||"Service"}),(0,b.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,b.jsx)(g.Badge,{className:F(a.status),children:a.status}),h&&(0,b.jsx)(g.Badge,{variant:"outline",className:"border-primary/50 text-primary",children:"Today"})]})]}),"CANCELLED"!==a.status&&(0,b.jsx)(f.Button,{variant:"ghost",size:"sm",onClick:()=>E(a.id),disabled:C===a.id,className:"text-destructive hover:text-destructive hover:bg-destructive/10",children:C===a.id?(0,b.jsx)(p.Loader2,{className:"h-4 w-4 animate-spin"}):(0,b.jsx)(o.X,{className:"h-4 w-4"})})]})}),(0,b.jsxs)(e.CardContent,{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(k.Calendar,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:(0,r.format)(c,"EEEE, MMM d, yyyy")})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(l.Clock,{className:"h-4 w-4"}),(0,b.jsxs)("span",{children:[(0,r.format)(c,"h:mm a")," - ",(0,r.format)(d,"h:mm a")]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:["ONLINE"===a.type?(0,b.jsx)(m.Video,{className:"h-4 w-4"}):(0,b.jsx)(n.MapPin,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"ONLINE"===a.type?"Online":"In-Person"}),"ONLINE"===a.type&&a.meetingLink&&(0,b.jsx)("a",{href:a.meetingLink,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline ml-2",children:"Join Meeting"})]}),a.service&&(0,b.jsx)("div",{className:"pt-2 border-t border-border/50",children:(0,b.jsxs)("div",{className:"flex items-center justify-between text-sm",children:[(0,b.jsx)("span",{className:"text-muted-foreground",children:"Price:"}),(0,b.jsxs)("span",{className:"font-semibold text-foreground",children:["Â£",a.service.price]})]})})]})]},a.id)})})]}),H.length>0&&(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-2xl font-semibold text-foreground mb-4",children:"Past Bookings"}),(0,b.jsx)("div",{className:"grid gap-4 md:grid-cols-2",children:H.map(a=>{let c=(0,s.parseISO)(a.startDateTime),d=(0,s.parseISO)(a.endDateTime);return(0,b.jsxs)(e.Card,{className:"border-border/50 opacity-75 hover:opacity-100 transition-opacity",children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsx)("div",{className:"flex items-start justify-between",children:(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)(e.CardTitle,{className:"text-xl mb-2",children:a.service?.name||"Service"}),(0,b.jsx)(g.Badge,{className:F(a.status),children:a.status})]})})}),(0,b.jsxs)(e.CardContent,{className:"space-y-3",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(k.Calendar,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:(0,r.format)(c,"EEEE, MMM d, yyyy")})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,b.jsx)(l.Clock,{className:"h-4 w-4"}),(0,b.jsxs)("span",{children:[(0,r.format)(c,"h:mm a")," - ",(0,r.format)(d,"h:mm a")]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:["ONLINE"===a.type?(0,b.jsx)(m.Video,{className:"h-4 w-4"}):(0,b.jsx)(n.MapPin,{className:"h-4 w-4"}),(0,b.jsx)("span",{children:"ONLINE"===a.type?"Online":"In-Person"})]})]})]},a.id)})})]})]})]})]})})}a.s(["default",()=>z],58088)}];

//# sourceMappingURL=My%20Projects_mystic-john_f1a8dac1._.js.map